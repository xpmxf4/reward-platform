# 과제 분석: 이벤트 / 보상 관리 플랫폼

## 1. 과제의 핵심 목표

- 실무 사용 패턴 학습 및 실제 서비스 적용 가능한 이벤트/보상 관리 시스템 설계 및 구현.
- "실제 프로덕션에서 이 코드를 돌려도 될까?"를 염두에 둔 고민.
- MSA 구조, Saga, Resilience 등 정책 위주와 이벤트(작업) 설계가 핵심.
- 현재는 3개 서버(Gateway, Auth, Event) 간의 동기식 통신을 중심으로 설계하지만, 향후 인게임 이벤트 연동 등 확장 시 비동기 메시지 큐(예: Kafka) 도입을 고려한 유연한 구조 설계를 지향한다.

## 2. 주요 기능 목록 (요구사항 기반)

- **이벤트 등록/조회:**
    - 이벤트 정보: 조건(예: 로그인 3일, 친구 초대), 기간, 상태(활성/비활성).
    - 목록 및 상세 조회 가능.
- **보상 등록/조회:**
    - 보상 정보: 포인트, 아이템, 쿠폰 등 자유 구성, 수량 포함.
    - 각 보상과 연결된 이벤트 명확화.
- **유저 보상 요청:**
    - 특정 이벤트에 대한 보상 요청.
    - 시스템의 조건 충족 여부 검증.
    - 중복 보상 요청 방지.
    - 요청 상태(성공/실패 등) 기록.
- **보상 요청 내역 확인:**
    - 유저: 본인 요청 이력 조회.
    - 운영자/감사자/관리자: 전체 유저 요청 기록 조회 (필터링은 선택 사항).

## 3. 역할(Role) 및 권한 정의

- **USER:** 보상 요청 가능.
- **OPERATOR:** 이벤트/보상 등록.
- **AUDITOR:** 보상 이력 조회만 가능.
- **ADMIN:** 모든 기능 접근 가능.

## 4. 기술 스택 및 제약사항

- Node.js: 18 (고정)
- NestJS: 최신
- DB: MongoDB
- 인증: JWT
- 배포/실행: Docker + docker-compose
- 언어: TypeScript

## 5. 제출 방식 및 평가 요소 (예상)

- GitHub 공개 저장소 링크 제출.
- [README.md](http://readme.md/): 실행 방법, API 설계, **설계 이유 (특히 Saga, Resilience, 멱등성, 엣지 케이스 처리, 확장성 고려 관련)**, 고민 과정 등.
- 테스트 코드: 선택 사항이나 가산점 가능성 (특히 서비스 간 책임 분리 부분).

## 6. Q&A 분석 내용 요약

- 이벤트 종류와 조건 로직은 자유롭게 정의 가능 (현실적이고 검증 가능한 구조).
- 보상 종류 자유롭게 정의 가능 (DB 스키마로 명확히 표현).
- 프론트엔드 불필요 (API 호출로 테스트 가능한 수준).
- API 경로, HTTP 메서드, 응답 구조 자유롭게 설계.

## 7. (스스로에게 질문) 이 과제에서 가장 중요하게 보여줘야 할 것은 무엇인가?

1. MSA 환경에서의 안정적인 서비스 운영 능력 
2. 특히 분산 환경에서 발생할 수 있는 다양한 문제(데이터 정합성, 특정 서비스 장애 등)에 대한 깊이 있는 이해
3. 이를 해결하기 위한 Saga, Resilience, 멱등성 등의 패턴 적용 능력. 
4. 복잡한 비즈니스 로직(특히 보상 지급)에서 발생 가능한 다양한 엣지 케이스를 식별
5. 이를 시스템 설계에 반영하여 견고한 시스템을 만드는 능력.
6. 현재의 제약 조건 내에서 최선을 다하되, 향후 시스템 확장(예: Kafka 도입을 통한 비동기 처리 및 대용량 이벤트 처리)에 대한 고려를 설계에 녹여내는 통찰력.)
